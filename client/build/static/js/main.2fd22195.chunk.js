(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,a){e.exports=a(76)},69:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){},73:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),s=a(21),c=a.n(s),i=a(9),o=a(18),l=a(39),u=a(8),m={isSignedIn:null,userId:null},d={userId:null,bmi:null,gender:null,goal:null},p={workouts:null},g={posts:null},h={events:null},v=Object(o.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return Object(u.a)({},e,{isSignedIn:!0,userId:t.payload});case"SIGN_OUT":return Object(u.a)({},e,{isSignedIn:!1,userId:null});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PERSIST_BMI":case"EDIT_BMI":return Object(u.a)({},e,{bmi:t.payload.bmi,userId:t.payload.userId,gender:t.payload.gender,goal:t.payload.goal,id:t.payload.id});case"FETCH_BMI":return Object(u.a)({},e,{bmi:t.payload[0].bmi,userId:t.payload[0].userId,gender:t.payload[0].gender,goal:t.payload[0].goal,id:t.payload[0].id});default:return e}},workout:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WORKOUTS":return Object(u.a)({},e,{workouts:t.payload});default:return e}},post:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CREATE_POSTS":return Object(u.a)({},e,{sourceId:t.payload.sourceId,targetId:t.payload.targetId,content:t.payload.content});case"FETCH_POSTS":return Object(u.a)({},e,{posts:t.payload});default:return e}},event:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_EVENTS":case"UPDATE_REGISTERED_EVENTS":return Object(u.a)({},e,{events:t.payload});default:return e}}}),f=a(17),E=a(12),I=a(13),y=a(15),b=a(14),N=a(16),w=a(25),k=a(2),C=a.n(k),O=a(11),S=a(40),j=a.n(S).a.create({baseURL:"http://localhost:3001"}),x=function(){return function(){var e=Object(O.a)(C.a.mark(function e(t,a){var n,r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.userId,e.next=3,j.get("/users?userId=".concat(n));case 3:(r=e.sent).data.length&&t({type:"FETCH_BMI",payload:r.data});case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},U=function(e){return e<18.5?"underweight":e>=18.5&&e<=24.9?"healthyweight":e>=25&&e<=29.9?"overweight":e>=30?"obese":void 0},A=(a(69),[{title:"home",class:"home",link:"/",active:!0},{title:"bmi calculator",class:"bmi-calc",link:"/bmicalc",active:!1},{title:"user forum",class:"user-forum",link:"/userforum",active:!1},{title:"events",class:"events",link:"/events",active:!1}]),T=function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,s=new Array(n),c=0;c<n;c++)s[c]=arguments[c];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(s)))).onAuthChange=function(e){e?a.props.signIn(a.auth.currentUser.get().getId()):a.props.signOut()},a.onSignInClick=function(){a.auth.signIn()},a.onSignOutClick=function(){a.auth.signOut()},a.renderAuthButton=function(){return null==a.props.isSignedIn?null:a.props.isSignedIn?r.a.createElement("button",{className:"logout-btn pull-right",onClick:a.onSignOutClick},r.a.createElement("i",{className:"icon google"}),"Sign Out"):r.a.createElement("button",{className:"login-btn pull-right",onClick:a.onSignInClick},r.a.createElement("i",{className:"icon google"}),"Sign In With Google")},a.setActiveItem=function(){var e=a.props.history.location.pathname;A.map(function(t,a){t.active=!1,t.link===e&&(t.active=!0)})},a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.gapi.load("client:auth2",function(){window.gapi.client.init({clientId:"504415059984-8kjtb08nf930hntdqg2upo6nfkdusk66.apps.googleusercontent.com",scope:"email"}).then(function(){e.auth=window.gapi.auth2.getAuthInstance(),e.onAuthChange(e.auth.isSignedIn.get()),e.auth.isSignedIn.listen(e.onAuthChange)})})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row header-container clearfix"},r.a.createElement("div",{className:"app-name pull-left"},"Fitness App"),A.map(function(t,a){return r.a.createElement("div",{onClick:e.setActiveItem,key:a,className:"pull-left "+t.class+(t.active?" active":"")},r.a.createElement(w.a,{to:t.link},t.title))}),this.renderAuthButton())}}]),t}(r.a.Component),M=Object(i.b)(function(e){return{isSignedIn:e.auth.isSignedIn}},{signIn:function(e){return{type:"SIGN_IN",payload:e}},signOut:function(){return{type:"SIGN_OUT"}}})(Object(f.f)(T));var B=function(e){return r.a.createElement("div",{className:"col-sm-6 home-option"},r.a.createElement("div",{className:"option-card"},r.a.createElement("div",{className:"card-title"},e.name),r.a.createElement("div",{className:"card-description"},e.description),r.a.createElement("div",{className:"card-cta"},r.a.createElement("a",{href:e.link,className:"btn cta-btn"},"Go",r.a.createElement("i",{className:"fas fa-angle-right"})))))},P=(a(71),function(){return r.a.createElement("div",{className:"container home-card-wrapper"},r.a.createElement("div",{className:"row"},r.a.createElement(B,{name:"BMI Calculator",link:"/bmicalc",description:"Calulate your BMI and explore training that is suitable for you."}),r.a.createElement(B,{name:"Post Challenge",link:"/userforum",description:"Post your photo or video of training and challenge someone."}),r.a.createElement(B,{name:"Events",link:"/events",description:"Find out the events happening around you and join the events."}),r.a.createElement(B,{name:"Discussion",link:"/userforum",description:"See what people are discussion about keeping themselves fit and healthy. Take part in the discussion."})))}),D=(a(72),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={gender:"",age:"",weight:"",height:"",goal:""},a.setActiveItem=function(){var e=a.props.history.location.pathname;A.map(function(t,a){t.active=!1,t.link===e&&(t.active=!0)})},a.onGenderChange=function(e,t){var n=e.target.closest("span");n&&e.target.contains(n)||a.setState({gender:t})},a.onAgeChange=function(e){a.setState({age:e.target.value})},a.onWeightChange=function(e){a.setState({weight:e.target.value})},a.onHeightChange=function(e){a.setState({height:e.target.value})},a.onGoalChange=function(e,t){var n=e.target.closest("span");n&&e.target.contains(n)||a.setState({goal:t})},a.clearFields=function(){a.setState({gender:""}),a.setState({goal:""}),a.setState({age:""}),a.setState({weight:""}),a.setState({height:""}),document.querySelectorAll('input[type="radio"]:checked').forEach(function(e){e.checked=!1})},a.calculateBMI=function(){if(""!==a.state.age&&""!==a.state.weight&&""!==a.state.height&&""!==a.state.gender&&""!==a.state.goal){var e=a.state.weight,t=a.state.height/100,n=e/(t*t);null===a.props.existingUserBMI?a.props.PersistBMIData(n,a.state.gender,a.state.goal):a.props.EditBMIData(n,a.state.gender,a.state.goal)}},a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.setActiveItem(),this.props.FetchBMIData()}},{key:"componentDidUpdate",value:function(e,t){this.props.existingUserBMI!==e.existingUserBMI||this.props.existingUserGoal!==e.existingUserGoal?this.props.FetchWorkoutData():(this.props.loggedInUserId!==e.loggedInUserId||this.props.existingUserId===this.props.loggedInUserId&&this.state===t)&&this.props.FetchBMIData()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row bmi-calc-page"},r.a.createElement("div",{className:"col-md-5 calculator"},r.a.createElement("div",{className:"col-md-12 no-padding"},r.a.createElement("span",{className:"col-md-12 no-padding"},"BODY PARAMETERS"),r.a.createElement("div",{className:"col-md-12 no-padding clearfix gender-container"},r.a.createElement("label",{className:"pull-left",onClick:function(t){return e.onGenderChange(t,"male")}},r.a.createElement("input",{type:"radio",name:"gender"}),r.a.createElement("span",{className:"male"},"MALE")),r.a.createElement("label",{className:"pull-right",onClick:function(t){return e.onGenderChange(t,"female")}},r.a.createElement("input",{type:"radio",name:"gender"}),r.a.createElement("span",{className:"female"},"FEMALE"))),r.a.createElement("div",{className:"col-md-12 no-padding body-stats-container"},r.a.createElement("input",{className:"body-stats-col",type:"text",placeholder:"enter age",onChange:this.onAgeChange,value:this.state.age}),r.a.createElement("input",{className:"body-stats-col",type:"text",placeholder:"enter weight (kg)",onChange:this.onWeightChange,value:this.state.weight}),r.a.createElement("input",{className:"body-stats-col",type:"text",placeholder:"enter height (cm)",onChange:this.onHeightChange,value:this.state.height})),r.a.createElement("div",{className:"col-md-12 no-padding divider"},r.a.createElement("hr",null)),r.a.createElement("span",{className:"col-md-12 no-padding"},"TRAINING GOAL"),r.a.createElement("div",{className:"col-md-12 no-padding goal-container"},r.a.createElement("label",{className:"goal-col",onClick:function(t){return e.onGoalChange(t,"loss")}},r.a.createElement("input",{type:"radio",name:"goal"}),r.a.createElement("span",{className:"loss"},"LOSS")),r.a.createElement("label",{className:"goal-col",onClick:function(t){return e.onGoalChange(t,"gain")}},r.a.createElement("input",{type:"radio",name:"goal"}),r.a.createElement("span",{className:"gain"},"GAIN")),r.a.createElement("label",{className:"goal-col",onClick:function(t){return e.onGoalChange(t,"maintain")}},r.a.createElement("input",{type:"radio",name:"goal"}),r.a.createElement("span",{className:"maintain"},"MAINTAIN"))),r.a.createElement("div",{className:"col-md-12 no-padding divider"},r.a.createElement("hr",null)),r.a.createElement("div",{className:"col-md-12 button-container no-padding clearfix"},r.a.createElement("button",{className:"clear pull-left",onClick:this.clearFields},"CLEAR"),r.a.createElement("button",{className:"calc pull-right",onClick:this.calculateBMI},"CALCULATE")),r.a.createElement("div",{className:"arrow-right"}))),r.a.createElement("div",{className:"col-md-7 training-module-wrapper"},r.a.createElement("div",{className:"col-md-12 training-module"},null!=this.props.existingUserBMI&&null!=this.props.loggedInUserId&&null!=this.props.userWorkout?r.a.createElement("div",{className:"col-md-12 no-padding"},r.a.createElement("div",{className:"clearfix"},r.a.createElement("div",{className:"pull-left"},"BMI : ",r.a.createElement("span",{className:"bmi-val"},this.props.existingUserBMI)),r.a.createElement("div",{className:"pull-right"},"GOAL : ",r.a.createElement("span",{className:"bmi-val"},this.props.existingUserGoal))),r.a.createElement("div",{className:"workout-icon"}),r.a.createElement("ul",{className:"workout-list"},this.props.userWorkout.map(function(e,t){return r.a.createElement("li",{className:"workout-item clearfix",key:t},r.a.createElement("span",{className:"pull-left workout-badge"}),r.a.createElement("span",{className:"pull-left"},e.suggestion))}))):r.a.createElement("div",{className:"col-md-12 no-padding"},"No BMI data present.Please login to access your workouts or calculate BMI if you're a first time user."))))}}]),t}(r.a.Component)),F=Object(i.b)(function(e){return{existingUserGoal:e.user.goal,existingUserBMI:e.user.bmi,existingUserId:e.user.userId,loggedInUserId:e.auth.userId,userWorkout:e.workout.workouts}},{PersistBMIData:function(e,t,a){return function(){var n=Object(O.a)(C.a.mark(function n(r,s){var c,i;return C.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=s().auth.userId,n.next=3,j.post("/users",{bmi:e,userId:c,gender:t,goal:a});case 3:i=n.sent,r({type:"PERSIST_BMI",payload:i.data});case 5:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()},FetchBMIData:x,FetchWorkoutData:function(){return function(){var e=Object(O.a)(C.a.mark(function e(t,a){var n,r,s,c,i,o;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().user,r=n.bmi,s=n.gender,c=n.goal,e.next=3,j.get("/workouts");case 3:i=e.sent,o=U(r),t({type:"FETCH_WORKOUTS",payload:i.data[s][o][c]});case 6:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},EditBMIData:function(e,t,a){return function(){var n=Object(O.a)(C.a.mark(function n(r,s){var c,i,o;return C.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return c=s().auth.userId,i=s().user.id,n.next=4,j.patch("/users/".concat(i),{bmi:e,userId:c,gender:t,goal:a});case 4:o=n.sent,r({type:"EDIT_BMI",payload:o.data});case 6:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}()}})(D),G=(a(73),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={userComment:""},a.setActiveItem=function(){var e=a.props.history.location.pathname;A.map(function(t,a){t.active=!1,t.link===e&&(t.active=!0)})},a.postCommentHandler=function(){var e=a.state.userComment,t=e.split(" ");t=t.filter(function(e){return e.indexOf("@")>-1});var n=a.props.userId,r=t.length?t[0].substring(1,t[0].length):n;a.props.CreateUserPosts(r,e)},a.onUserCommentChange=function(e){a.setState({userComment:e.target.value})},a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setActiveItem(),this.interval=setInterval(function(){return e.props.FetchUserPosts()},2500)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},null!=this.props.userPosts&&this.props.isSignedIn?r.a.createElement("div",{className:"post-challenge-wrapper row"},r.a.createElement("div",{className:"add-challenge col-sm-6"},r.a.createElement("div",null,r.a.createElement("div",{className:"title"},"Post a Challenge"),r.a.createElement("textarea",{rows:"6",placeholder:"Post a comment or enter a youtube video URL",value:this.state.userComment,onChange:function(t){return e.onUserCommentChange(t)}}),r.a.createElement("button",{onClick:this.postCommentHandler,className:"post-btn pull-right"},"POST"))),r.a.createElement("ul",{className:"user-comments-wrapper col-sm-6"},r.a.createElement("div",null,r.a.createElement("div",{className:"title"},"User Forum Discussion"),this.props.userPosts.map(function(t,a){var n=t.content.split(" "),s=(n=n.filter(function(e){return e.indexOf("https://www.youtube.com/")>-1})).length>0?n[0].slice(-11):null;return r.a.createElement("li",{key:a,className:"user-comment"+(t.sourceId===e.props.userId?" self-comment":"")},r.a.createElement("div",{className:"user-img"},r.a.createElement("i",{className:"fas fa-user-tie"})),r.a.createElement("div",{className:"comment-details"},t.content,n.length>0&&null!=s&&r.a.createElement("iframe",{width:"100%",height:"300",src:"https://www.youtube.com/embed/".concat(s,"?autoplay=1")})))})))):[null==this.props.userPosts?r.a.createElement("div",{className:"no-post"},"The posts are being fetched please wait"):r.a.createElement("div",{className:"no-post"},"No posts available. Please login to view your posts")])}}]),t}(r.a.Component)),R=Object(i.b)(function(e){return{userPosts:e.post.posts,isSignedIn:e.auth.isSignedIn,userId:e.auth.userId}},{CreateUserPosts:function(e,t){return function(){var a=Object(O.a)(C.a.mark(function a(n,r){var s,c;return C.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return s=r().auth.userId,a.next=3,j.post("/posts",{sourceId:s,targetId:e,content:t});case 3:c=a.sent,n({type:"CREATE_POSTS",payload:c.data});case 5:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},FetchUserPosts:function(){return function(){var e=Object(O.a)(C.a.mark(function e(t,a){var n,r;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().auth.userId,e.next=3,j.get("/posts?q=".concat(n));case 3:r=e.sent,t({type:"FETCH_POSTS",payload:r.data});case 5:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()}})(G),_=(a(74),function(e){function t(){var e,a;Object(E.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(y.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).setActiveItem=function(){var e=a.props.history.location.pathname;A.map(function(t,a){t.active=!1,t.link===e&&(t.active=!0)})},a.registerEvent=function(e,t){var n=a.props.loggedInUserId,r=""==t?t+n:t+","+n;a.props.UpdateRegisteredEvents(r,e)},a}return Object(N.a)(t,e),Object(I.a)(t,[{key:"componentDidMount",value:function(){this.setActiveItem(),this.props.FetchEvents()}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container event-container"},null!=this.props.allEvents&&this.props.isSignedIn?r.a.createElement("div",{className:"row"},this.props.allEvents.map(function(t,a){return r.a.createElement("div",{className:"events-card col-md-6",key:a},r.a.createElement("div",{className:"left col-md-8 no-padding"},r.a.createElement("div",{className:"event-img"},t.eventImg&&r.a.createElement("img",{src:t.eventImg,alt:t.eventName}),!t.eventImg&&r.a.createElement("i",{className:"fas fa-running"})),r.a.createElement("div",{className:"event-detail"},t.eventName)),r.a.createElement("div",{className:"right col-md-4 text-center no-padding"},""==t.userRegistered||-1==t.userRegistered.indexOf(e.props.loggedInUserId)?r.a.createElement("button",{onClick:function(){return e.registerEvent(t.id,t.userRegistered)}},"Register"):r.a.createElement("div",null,"You have already registered for the event")))})):r.a.createElement("div",{className:"no-post"},"No events available. Please login to view your registered events"))}}]),t}(r.a.Component)),H=Object(i.b)(function(e){return{allEvents:e.event.events,isSignedIn:e.auth.isSignedIn,existingUserId:e.user.userId,loggedInUserId:e.auth.userId}},{UpdateRegisteredEvents:function(e,t){return function(){var a=Object(O.a)(C.a.mark(function a(n,r){var s;return C.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,j.patch("/events/".concat(t),{userRegistered:e});case 2:return a.sent,a.next=5,j.get("/events");case 5:s=a.sent,n({type:"UPDATE_REGISTERED_EVENTS",payload:s.data});case 7:case"end":return a.stop()}},a)}));return function(e,t){return a.apply(this,arguments)}}()},FetchEvents:function(){return function(){var e=Object(O.a)(C.a.mark(function e(t,a){var n;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.get("/events");case 2:n=e.sent,t({type:"FETCH_EVENTS",payload:n.data});case 4:case"end":return e.stop()}},e)}));return function(t,a){return e.apply(this,arguments)}}()},FetchBMIData:x})(_),W=a(3),L=Object(W.a)(),q=(a(75),function(){return r.a.createElement("div",{className:"fitness-app container-fluid"},r.a.createElement("div",{className:"inner-wrapper"},r.a.createElement(f.b,{history:L},r.a.createElement(M,null),r.a.createElement(f.c,null,r.a.createElement(f.a,{path:"/",exact:!0,component:P}),r.a.createElement(f.a,{path:"/bmicalc",component:F}),r.a.createElement(f.a,{path:"/userforum",component:R}),r.a.createElement(f.a,{path:"/events",component:H})))))}),V=Object(o.d)(v,Object(o.a)(l.a));c.a.render(r.a.createElement(i.a,{store:V},r.a.createElement(q,null)),document.querySelector("#root"))}},[[42,1,2]]]);
//# sourceMappingURL=main.2fd22195.chunk.js.map